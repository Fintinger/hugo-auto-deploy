---
title: Vueä¸­çš„æ•°æ®ç›‘è§†åŸç†
date: 2022-03-21
categories:
 - å‰ç«¯
tags:
 - Vue.js
---


## 1.vueä¼šç›‘è§†dataä¸­æ‰€æœ‰å±‚æ¬¡çš„æ•°æ®.

vueå¯¹äºé…ç½®åœ¨dataä¸­çš„æ‰€æœ‰å¯¹è±¡éƒ½ä¼šä»¥keyå€¼ä½œä¸ºç›®æ ‡è¿›è¡Œç›‘è§†ï¼Œä¸è®ºå¤šå°‘å±‚ï¼Œéƒ½ä¼šé€’å½’åœ°ä¸ºæ¯ä¸€ä¸ªkeyé…ç½®getterå’Œsetter(é€šè¿‡`Object.defineProperty()`)ã€‚

> ç›¸å…³é˜…è¯» [MDNå…³äºdefinePropertyçš„è¯´æ˜](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty)

## 2.å¦‚ä½•ç›‘æµ‹**å¯¹è±¡**ä¸­çš„æ•°æ®?

  é€šè¿‡setterå®ç°ç›‘è§†,ä¸”è¦åœ¨new Vueæ—¶å°±ä¼ å…¥è¦ç›‘æµ‹çš„æ•°æ®ï¼Œå³åœ¨dataä¸­æå‰é…ç½®ã€‚

  (1).å¯¹è±¡ä¸­åè¿½åŠ çš„å±æ€§,Vueé»˜è®¤ä¸åšå“åº”å¼å¤„ç†

ç›´æ¥é€šè¿‡ä¿®æ”¹vm._dataæˆ–è€…vmæ¥æ·»åŠ keyï¼Œå¹¶ä¸ä¼šé…ç½®getterå’Œsetterï¼Œå› æ­¤ä¸ä¼šåšå“åº”å¼

  (2).å¦‚éœ€ç»™åæ·»åŠ çš„å±æ€§åšå“åº”å¼,è¯·ä½¿ç”¨å¦‚ä¸‹API:
       `Vue.set(target,key/index,value)`æˆ–`vm.$set(target,key/index,value)`ï¼ˆå¯ä»¥åŒæ—¶ä¿®æ”¹æ•°ç»„å’Œå¯¹è±¡ï¼‰

â€‹	 **ç‰¹åˆ«æ³¨æ„: Vue.set()å’Œvm.$set()ä¸èƒ½ç›´æ¥ç»™vmæˆ–vmçš„æ ¹æ•°æ®å¯¹è±¡(vm._data)æ·»åŠ å±æ€§!!!**

## 3.å¦‚ä½•ç›‘æµ‹**æ•°ç»„**ä¸­çš„æ•°æ®?

   åœ¨**æ•°ç»„ä¸­ç›´æ¥é€šè¿‡ç´¢å¼•çš„æ–¹å¼ä¿®æ”¹æ•°ç»„å¹¶ä¸ä¼šå¼•èµ·Vueçš„å“åº”**ï¼Œé‚£ä¹ˆè¦å¦‚ä½•åšå‘¢ï¼ŸVueé€šè¿‡[åŒ…è£¹æ•°ç»„æ›´æ–°å…ƒç´ çš„æ–¹æ³•](https://vuejs.bootcss.com/guide/list.html#%E6%95%B0%E7%BB%84%E6%9B%B4%E6%96%B0%E6%A3%80%E6%B5%8B)(å¯¹åŸæ•°ç»„æ–¹æ³•è¿›è¡Œä¿®æ”¹)å®ç°,æœ¬è´¨å°±æ˜¯åšäº†ä¸¤ä»¶äº‹:

   (1). è°ƒç”¨åŸç”Ÿå¯¹åº”çš„æ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œæ›´æ–°.

   (2). é‡æ–°è§£ææ¨¡æ¿,è¿›è€Œæ›´æ–°é¡µé¢.

å°±åŒ…è£¹äº†ä¸‹é¢çš„ä¸ƒç§æ•°ç»„æ–¹æ³•ï¼š

- `push()`
- `pop()`
- `shift()`
- `unshift()`
- `splice()`
- `sort()`
- `reverse()`

ä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡ä¸Šé¢ä¸ƒç§æ–¹æ³•ä¿®æ”¹æ•°ç»„ï¼Œä¼šè®©Vueåšå‡ºå“åº”ã€‚

ä¾‹å¦‚æƒ³è¦ä¿®æ”¹æ•°ç»„ä¸­ç´¢å¼•ä¸º0çš„ä½ç½®çš„æ•°æ®ï¼Œå¯ä»¥é€šè¿‡ `vm.data.arr.splice(0,0,val)`æˆ–`Vue.set(vm.data.arr,0,val)`åˆæˆ–è€…`vm.$set(vm.data.arr,0,val)`ï¼Œåœ¨å…·ä½“çš„ç”±Vueç®¡ç†çš„æ–¹æ³•ä¸­thisæŒ‡å‘çš„åº”è¯¥å°±æ˜¯vmï¼ï¼

## æ•°æ®åŠ«æŒ

Vueé€šè¿‡setter,getterå¯¹æ•°æ®è¿›è¡ŒåŠ¨æ€ç›‘æµ‹ï¼Œå…¶å®å°±æ˜¯â€œåŠ«æŒâ€äº†æ•°æ®ğŸ˜¯